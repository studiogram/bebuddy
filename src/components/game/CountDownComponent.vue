<script>
import gsap from "gsap";
export default {
  name: "CountDownComponent",
  mounted() {
    this.starterTl = gsap
      .timeline({
        paused: true,
        onComplete: () => {
          this.$emit("countdownend");
        },
      })
      .to(this.$refs.countdownsvg, { autoAlpha: 1, duration: 1 })
      .fromTo(
        ".countdown__numbers",
        {
          autoAlpha: 0,
          scale: 5,
          transformOrigin: "center center",
        },
        {
          autoAlpha: 1,
          duration: 0.8,
          stagger: 1,
          scale: 1,
        }
      )
      .to(
        ".countdown__numbers",
        {
          duration: 0.8,
          stagger: 1,
          autoAlpha: 0,
        },
        "<.8"
      )
      .to(this.$refs.countdownsvg, { autoAlpha: 0, duration: 0.2 });
  },
  methods: {
    start() {
      this.starterTl.restart();
    },
  },
};
</script>

<style lang="scss" scoped>
.countdown {
  width: 100%;
  height: 100%;
  overflow: hidden;
  & > div {
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.85);
    svg {
      width: 400px;
      overflow: visible;
      box-shadow: 0px -0px 10000px transparent;
      g.countdown__numbers {
        opacity: 0;
        visibility: hidden;
      }
    }
  }
}
</style>

<template>
  <div class="countdown">
    <div ref="countdownsvg" class="flex justify-center items-center">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 381.8 204.6"
        xml:space="preserve"
      >
        <g class="countdown__numbers">
          <path
            class="fill-orange"
            d="M189.1.7C132.9.7 87.2 46.4 87.2 102.6s45.7 101.9 101.9 101.9 102-45.7 102-101.9S245.3.7 189.1.7zm0 191.1c-49.2 0-89.2-40-89.2-89.2s40-89.2 89.2-89.2 89.2 40 89.2 89.2-40.1 89.2-89.2 89.2z"
          />
          <path
            class="fill-orange"
            d="m201.7 91.6 17.1-18.4V58.6h-59.6v18h32.5L177 92.5v14.7h9.8c8.4 0 12.6 2.7 12.6 8 0 2.8-1.2 4.9-3.5 6.4-2.4 1.5-5.5 2.2-9.5 2.2-3.9 0-7.9-.6-12-1.8-4-1.2-7.7-2.9-10.9-5.1l-8.5 17.6c4.2 2.6 9.1 4.6 14.8 6 5.7 1.4 11.5 2.1 17.3 2.1 7.9 0 14.6-1.3 20-3.8 5.4-2.6 9.4-5.9 12-10.1 2.6-4.2 3.9-8.7 3.9-13.6 0-6-1.8-11.1-5.5-15.3-3.7-3.9-9-6.7-15.8-8.2z"
          />
        </g>
        <g class="countdown__numbers">
          <path
            class="fill-orange"
            d="M189.1.4C132.9.4 87.2 46.1 87.2 102.3s45.7 101.9 101.9 101.9 102-45.7 102-101.9S245.3.4 189.1.4zm0 191.2c-49.2 0-89.2-40-89.2-89.2s40-89.2 89.2-89.2 89.2 40 89.2 89.2-40.1 89.2-89.2 89.2z"
          />
          <path
            class="fill-orange"
            d="M207.1 108c5.5-5 9.2-9.5 11.1-13.5 1.9-4 2.9-8.2 2.9-12.7 0-5-1.4-9.4-4.1-13.3-2.7-3.8-6.5-6.7-11.3-8.8-4.8-2-10.4-3.1-16.7-3.1-7.9 0-14.8 1.5-20.6 4.6-5.8 3.1-10.3 7.3-13.6 12.6l17.3 9.7c1.7-2.6 3.8-4.6 6.3-6 2.6-1.4 5.4-2.1 8.4-2.1 3.5 0 6.1.7 7.9 2.2 1.8 1.5 2.7 3.6 2.7 6.2 0 2-.5 4.1-1.5 6.1s-3 4.4-6 7.2L159 126v14.6h64.2v-18.5h-31.8l15.7-14.1z"
          />
        </g>
        <g class="countdown__numbers">
          <path
            class="fill-orange"
            d="M189.1 0c-56.3 0-102 45.7-102 102 0 56.2 45.7 101.9 101.9 101.9S291 158.2 291 102C291 45.7 245.3 0 189.1 0zm0 191.1c-49.2 0-89.2-40-89.2-89.2s40-89.2 89.2-89.2 89.2 40 89.2 89.2-40.1 89.2-89.2 89.2z"
          />
          <path class="fill-orange" d="M167.8 76h15.3v64.5h23.3V58h-38.6z" />
        </g>
        <g class="countdown__numbers">
          <path
            class="fill-orange"
            d="M47.1 79.5c7.8 0 14.5 3.1 20 9.2L82 75.2c-4.1-4.9-9.2-8.6-15.3-11.2-6.1-2.6-13-3.9-20.7-3.9-8.8 0-16.7 1.8-23.7 5.5S9.8 74.3 5.9 80.9C2 87.4 0 94.8 0 103c0 8.2 2 15.6 5.9 22.2 3.9 6.5 9.4 11.6 16.3 15.3 6.9 3.7 14.7 5.5 23.3 5.5 6.1 0 12.3-.9 18.4-2.7 6.1-1.8 11.5-4.4 16.3-7.8v-34.2H59.5v22.6c-3.9 1.8-8.1 2.7-12.6 2.7-4.6 0-8.6-1-12.1-3s-6.3-4.8-8.2-8.4c-2-3.6-2.9-7.6-2.9-12.2 0-7.1 2.2-12.9 6.5-17.1 4.2-4.3 9.9-6.4 16.9-6.4zM160.1 65.7c-7-3.7-14.8-5.5-23.5-5.5S120 62 113.1 65.7c-7 3.7-12.4 8.8-16.4 15.3-4 6.5-6 13.9-6 22 0 8.2 2 15.5 6 22s9.4 11.6 16.4 15.3c7 3.7 14.8 5.5 23.5 5.5s16.6-1.8 23.5-5.5c7-3.7 12.4-8.8 16.4-15.3 4-6.5 6-13.9 6-22 0-8.2-2-15.5-6-22s-9.5-11.6-16.4-15.3zm-4.2 49.7c-2 3.6-4.6 6.3-8 8.3s-7.1 2.9-11.3 2.9c-4.2 0-7.9-1-11.3-2.9-3.4-2-6.1-4.7-8-8.3-2-3.6-2.9-7.7-2.9-12.3 0-4.6 1-8.7 2.9-12.3 2-3.6 4.6-6.3 8-8.3 3.4-2 7.1-2.9 11.3-2.9 4.2 0 7.9 1 11.3 2.9 3.4 2 6 4.7 8 8.3 2 3.6 2.9 7.7 2.9 12.3.1 4.6-.9 8.7-2.9 12.3zM259.8 65.7c-7-3.7-14.8-5.5-23.5-5.5s-16.6 1.8-23.5 5.5c-7 3.7-12.4 8.8-16.4 15.3-4 6.5-6 13.9-6 22 0 8.2 2 15.5 6 22s9.4 11.6 16.4 15.3c7 3.7 14.8 5.5 23.5 5.5s16.6-1.8 23.5-5.5c7-3.7 12.4-8.8 16.4-15.3 4-6.5 6-13.9 6-22 0-8.2-2-15.5-6-22s-9.5-11.6-16.4-15.3zm-4.2 49.7c-2 3.6-4.6 6.3-8 8.3s-7.1 2.9-11.3 2.9c-4.2 0-7.9-1-11.3-2.9-3.4-2-6.1-4.7-8-8.3-2-3.6-2.9-7.7-2.9-12.3 0-4.6 1-8.7 2.9-12.3 2-3.6 4.6-6.3 8-8.3 3.4-2 7.1-2.9 11.3-2.9 4.2 0 7.9 1 11.3 2.9 3.4 2 6 4.7 8 8.3 2 3.6 2.9 7.7 2.9 12.3.1 4.6-.9 8.7-2.9 12.3zM375.9 81c-4-6.5-9.4-11.6-16.4-15.3-7-3.7-14.8-5.5-23.5-5.5s-16.6 1.8-23.5 5.5c-7 3.7-12.4 8.8-16.4 15.3-4 6.5-6 13.9-6 22 0 8.2 2 15.5 6 22s9.4 11.6 16.4 15.3c7 3.7 14.8 5.5 23.5 5.5s16.6-1.8 23.5-5.5c7-3.7 12.4-8.8 16.4-15.3 4-6.5 6-13.9 6-22-.1-8.1-2.1-15.5-6-22zm-20.6 34.4c-2 3.6-4.6 6.3-8 8.3s-7.1 2.9-11.3 2.9c-4.2 0-7.9-1-11.3-2.9-3.4-2-6.1-4.7-8-8.3-2-3.6-2.9-7.7-2.9-12.3 0-4.6 1-8.7 2.9-12.3 2-3.6 4.6-6.3 8-8.3 3.4-2 7.1-2.9 11.3-2.9 4.2 0 7.9 1 11.3 2.9 3.4 2 6 4.7 8 8.3 2 3.6 2.9 7.7 2.9 12.3 0 4.6-.9 8.7-2.9 12.3z"
          />
        </g>
      </svg>
    </div>
  </div>
</template>
